发送：有时效，过时放弃（留言板属于其他功能）

接收到的数据包不含时间，如果需要时间，则单独发出请求
包：信道数据包起始序号，结束序号，包内偏移，删除信道数据的方式（1、确认被接收到；2、客户端表示放弃数据；3、超时删除 4、发送端明确表示清空信道）
数据有可能已经过期，有可能不完整，一次完整的通信，应该有起始和结束标记，是否放弃由接收端来确定

信道：信道id，通信双方A、B，A接收缓冲区是否允许清空，B接收缓冲区是否允许清空，A接收缓冲区起始序号，包内偏移，结束序号，B接收缓冲区起始序号，包内偏移，结束序号
    ，A接收缓冲区中的数据状态{序号，起始|结束；序号，起始|结束，...},，A缓冲区已经确认的包序号，期待的下个包序号，B缓冲区已经确认的包序号，期待的下个包序号
数据包：序号，数据，时间，信道id，A|B

1、发送客户端 -> 开始通信，发第一包数据，第一个包里附带信道起始标记，是否要清空信道
2、服务器 -> 清空信道，存储数据包，确认收到的包序号，期待的下个包序号
3、发送客户端 -> 收到上一个包确认信息，发新包
4、发送客户端 -> 没收到确认信息，重发上一个包
5、重复 3-4
6、结束通信，在最后一个包里附带结束标记

接收：接收前，发送端可能已经发送完毕，也可能正在发送

1、接收客户端 -> 指示一次最大可接收的字节数，请求信道数据
2、服务器 -> 将数据按要求裁剪后发给客户,包序号，包内偏移
3、客户端 -> 请求新数据，收到确认信息（包序号，偏移）
4、服务器 -> 如果确认序号大于已经记录的确认序号，则记录新的位置，如果数据包已经接收完毕，则删除包
5、客户可以选择放弃一定时间之前的数据

服务器定时任务
1、服务器定时自动清除超时数据